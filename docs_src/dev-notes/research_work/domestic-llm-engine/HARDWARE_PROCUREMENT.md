# sageLLM 国产算力硬件采购清单

> **文档状态**: 初稿  
> **更新时间**: 2026-01-02  
> **预算级别**: 最小可行配置（MVP）  
> **目标**: 支持 sageLLM 引擎的国产算力适配与验证

---

## 📋 采购原则

1. **P0 硬件优先**: 昇腾/寒武纪必须配置，用于核心功能验证
2. **最小化配置**: 每个平台 1-2 张卡即可完成开发和测试
3. **性能基线对照**: 保留 1 台 NVIDIA 机器作为性能对比基线
4. **开发优先**: 优先满足开发和单元测试，大规模性能测试可后续补充

---

## 🎯 核心采购清单（必买）

### 1. 昇腾 910B 开发机（P0 核心）

**型号**: 华为 Atlas 800 训练服务器（昇腾 910B）

| 配置项 | 规格 | 数量 | 单价（估算） | 小计 |
|--------|------|------|-------------|------|
| **加速卡** | 昇腾 910B (64GB HBM2e) | 2 张 | ¥60,000 | ¥120,000 |
| **CPU** | 鲲鹏 920 (64核) | 2 颗 | - | 包含 |
| **内存** | DDR4 512GB | - | - | 包含 |
| **存储** | NVMe SSD 4TB | 2 块 | - | 包含 |
| **网络** | 100GbE / InfiniBand HDR | 2 口 | - | 包含 |
| **互联** | HCCS (400GB/s) | 板载 | - | 包含 |
| **整机** | Atlas 800 训练服务器 | 1 台 | - | **¥250,000** |

**关键特性**:
- ✅ HCCL 集合通信库（内置）
- ✅ CANN 开发套件（免费）
- ✅ Ascend C 编程语言
- ✅ 官方 PyTorch 适配（torch_npu）

**用途**:
- comm_backend/domestic/hccl 开发与验证
- accel/kernels/ascend_c Kernel 开发
- 分布式通信性能测试（2 卡互联）

---

### 2. 寒武纪 MLU370 开发机（P0 核心）

**型号**: 寒武纪思元 370-X8 训练服务器

| 配置项 | 规格 | 数量 | 单价（估算） | 小计 |
|--------|------|------|-------------|------|
| **加速卡** | MLU370-X8 (32GB HBM2e) | 2 张 | ¥50,000 | ¥100,000 |
| **CPU** | Intel Xeon Gold 6338 (32核) | 2 颗 | - | 包含 |
| **内存** | DDR4 512GB | - | - | 包含 |
| **存储** | NVMe SSD 4TB | 2 块 | - | 包含 |
| **网络** | 100GbE | 2 口 | - | 包含 |
| **互联** | MLU-Link (200GB/s) | 板载 | - | 包含 |
| **整机** | 思元 370-X8 训练服务器 | 1 台 | - | **¥220,000** |

**关键特性**:
- ✅ CNCL 集合通信库（内置）
- ✅ BANG C/C++ 编程语言
- ✅ MagicMind 推理引擎
- ✅ 官方 PyTorch 适配（torch_mlu）

**用途**:
- comm_backend/domestic/cncl 开发与验证
- accel/kernels/bang Kernel 开发
- 分布式通信性能测试（2 卡互联）

---

### 3. NVIDIA A100 基线对照机（Baseline）

**型号**: NVIDIA DGX A100 或 SuperPOD 节点

| 配置项 | 规格 | 数量 | 单价（估算） | 小计 |
|--------|------|------|-------------|------|
| **加速卡** | A100 80GB SXM4 | 2 张 | ¥70,000 | ¥140,000 |
| **CPU** | AMD EPYC 7763 (64核) | 2 颗 | - | 包含 |
| **内存** | DDR4 1TB | - | - | 包含 |
| **存储** | NVMe SSD 8TB | 2 块 | - | 包含 |
| **网络** | InfiniBand HDR 200Gb/s | 2 口 | - | 包含 |
| **互联** | NVLink 3.0 (600GB/s) | 板载 | - | 包含 |
| **整机** | NVIDIA A100 训练服务器 | 1 台 | - | **¥300,000** |

**关键特性**:
- ✅ NCCL 集合通信库（成熟生态）
- ✅ CUDA 12.x + cuDNN 8.x
- ✅ vLLM/TensorRT-LLM 性能基线
- ✅ FlashAttention-2/3 参考实现

**用途**:
- 性能基线测试（MFU/TTFT/TPOT）
- vLLM/LMDeploy 引擎对比
- 通信带宽利用率对比（NCCL vs HCCL/CNCL）

---

## 💰 核心采购预算总计

| 序号 | 设备 | 数量 | 单价 | 小计 |
|------|------|------|------|------|
| 1 | 昇腾 910B 训练服务器 | 1 台 | ¥250,000 | ¥250,000 |
| 2 | 寒武纪 MLU370 训练服务器 | 1 台 | ¥220,000 | ¥220,000 |
| 3 | NVIDIA A100 训练服务器 | 1 台 | ¥300,000 | ¥300,000 |
| **总计** | | **3 台** | | **¥770,000** |

---

## 📦 可选采购清单（P1 扩展）

### 4. 海光 DCU Z100 开发机（P1 可选）

**型号**: 海光深算一号服务器

| 配置项 | 规格 | 数量 | 单价（估算） | 小计 |
|--------|------|------|-------------|------|
| **加速卡** | DCU Z100 (32GB HBM2e) | 2 张 | ¥45,000 | ¥90,000 |
| **CPU** | 海光 Hygon C86 (32核) | 2 颗 | - | 包含 |
| **内存** | DDR4 512GB | - | - | 包含 |
| **存储** | NVMe SSD 4TB | 2 块 | - | 包含 |
| **整机** | 海光深算一号 | 1 台 | - | **¥200,000** |

**关键特性**:
- ✅ RCCL 集合通信库（ROCm 生态）
- ✅ HIP 编程（类 CUDA）
- ✅ 与 AMD GPU 兼容性好

**用途**:
- comm_backend/domestic/rccl 开发
- accel/kernels/hip Kernel 开发
- ROCm 生态验证

---

### 5. 百度昆仑芯 R300（P1 可选）

**型号**: 百度昆仑芯服务器

| 配置项 | 规格 | 数量 | 单价（估算） | 小计 |
|--------|------|------|-------------|------|
| **加速卡** | 昆仑芯 2 代 R300 (16GB HBM2) | 2 张 | ¥40,000 | ¥80,000 |
| **CPU** | Intel Xeon (32核) | 2 颗 | - | 包含 |
| **内存** | DDR4 512GB | - | - | 包含 |
| **整机** | 昆仑芯服务器 | 1 台 | - | **¥180,000** |

**关键特性**:
- ✅ BKCL 集合通信库
- ✅ XPU SDK 开发套件
- ✅ Paddle 框架深度集成

**用途**:
- comm_backend/domestic/bkcl 开发
- 昆仑生态验证

---

## 📊 预算方案对比

### 方案 A：最小可行配置（MVP）

**设备清单**:
- ✅ 昇腾 910B × 1 台（¥250,000）
- ✅ 寒武纪 MLU370 × 1 台（¥220,000）
- ✅ NVIDIA A100 × 1 台（¥300,000）

**总预算**: **¥770,000**

**覆盖范围**:
- ✅ P0 国产硬件全覆盖（昇腾 + 寒武纪）
- ✅ 性能基线对比（NVIDIA）
- ✅ 分布式通信测试（每台 2 卡）
- ✅ Kernel 开发与优化
- ⚠️ 不包含海光/昆仑（P1 硬件）

---

### 方案 B：完整验证配置

**设备清单**:
- ✅ 昇腾 910B × 1 台（¥250,000）
- ✅ 寒武纪 MLU370 × 1 台（¥220,000）
- ✅ NVIDIA A100 × 1 台（¥300,000）
- ✅ 海光 DCU Z100 × 1 台（¥200,000）
- ✅ 昆仑芯 R300 × 1 台（¥180,000）

**总预算**: **¥1,150,000**

**覆盖范围**:
- ✅ P0 + P1 国产硬件全覆盖
- ✅ 4 个国产平台 + 1 个 NVIDIA 基线
- ✅ 完整生态验证
- ✅ 论文实验数据完整性

---

### 方案 C：预算优化配置（推荐）

**设备清单**:
- ✅ 昇腾 910B × 1 台（¥250,000）
- ✅ 寒武纪 MLU370 × 1 台（¥220,000）
- ✅ NVIDIA A100 × 1 台（¥300,000）
- ✅ 海光 DCU Z100 × 1 台（¥200,000）- **二阶段采购**

**总预算**: 
- 一期：¥770,000（昇腾 + 寒武纪 + NVIDIA）
- 二期：¥200,000（海光）
- **合计**: **¥970,000**

**策略**:
1. **Week 1-6**: 使用昇腾 + 寒武纪开发 P0 功能
2. **Week 7-10**: 补充海光硬件，验证 ROCm 生态
3. **Week 11-12**: 昆仑芯可租用云服务器（¥5,000/月）

---

## 🏢 供应商联系方式

### 1. 华为昇腾

- **官网**: https://www.hiascend.com
- **销售**: 华为企业业务（需联系当地代理商）
- **技术支持**: Ascend 开发者社区
- **采购渠道**: 华为授权代理商 / 华为云

**推荐渠道**:
- 神州数码（华为核心代理）
- 联强国际
- 华为企业业务部直销

---

### 2. 寒武纪

- **官网**: https://www.cambricon.com
- **销售**: 寒武纪科技销售部
- **电话**: 010-62600590
- **邮箱**: sales@cambricon.com
- **技术支持**: developer@cambricon.com

**推荐渠道**:
- 寒武纪直销（大客户）
- 联想/浪潮（OEM 服务器）
- 寒武纪云服务（租用）

---

### 3. NVIDIA

- **官网**: https://www.nvidia.com/zh-cn
- **销售**: NVIDIA 中国区企业销售
- **电话**: 400-820-5800
- **技术支持**: NVIDIA 企业支持中心

**推荐渠道**:
- NVIDIA 直销（大客户）
- 联想/戴尔/浪潮/超微（服务器厂商）
- 云服务商（阿里云/腾讯云 GPU 实例）

---

### 4. 海光（可选）

- **官网**: https://www.hygon.cn
- **销售**: 海光信息技术股份有限公司
- **电话**: 028-85220999
- **邮箱**: info@hygon.cn

**推荐渠道**:
- 海光直销
- 中科曙光（服务器集成）

---

### 5. 百度昆仑芯（可选）

- **官网**: https://kunlun.baidu.com
- **销售**: 百度昆仑芯科技
- **邮箱**: kunlun@baidu.com

**推荐渠道**:
- 百度智能云（租用）
- 昆仑芯直销

---

## 📅 采购时间表

### 一期采购（Week 0-2）

| 时间点 | 任务 | 负责人 |
|--------|------|--------|
| Week 0 | 预算审批 + 采购立项 | 项目组 + 财务 |
| Week 1 | 联系供应商、获取报价 | 采购专员 |
| Week 1 | 技术选型确认（配置评审）| 技术负责人 |
| Week 2 | 签订采购合同 | 采购 + 法务 |
| Week 3-4 | 设备到货 + 验收测试 | 技术团队 |

---

### 二期采购（Week 7，可选）

| 时间点 | 任务 |
|--------|------|
| Week 7 | 海光/昆仑芯需求评估 |
| Week 8 | 二期采购立项（如需要）|
| Week 9 | 设备到货 |

---

## 🔧 配套设施需求

### 1. 机房环境

| 需求项 | 规格 | 说明 |
|--------|------|------|
| **机柜空间** | 4-6U × 3 台 | 每台服务器约 4U-6U |
| **供电** | 380V 三相电 × 3 | 每台功耗 5-8kW |
| **制冷** | 精密空调（20-25℃）| 热功耗 15-24kW |
| **网络** | 100GbE / InfiniBand | 分布式训练必需 |
| **UPS** | 30kVA 不间断电源 | 防断电数据丢失 |

**预算**: ¥50,000 - ¥100,000（如需新建机房）

---

### 2. 网络设备

| 设备 | 规格 | 数量 | 单价 | 小计 |
|------|------|------|------|------|
| **100GbE 交换机** | Mellanox SN2700 (32 口) | 1 台 | ¥80,000 | ¥80,000 |
| **InfiniBand 交换机** | Mellanox HDR (40 口) | 1 台 | ¥120,000 | ¥120,000 |
| **光模块/线缆** | QSFP28/QSFP56 | 若干 | - | ¥20,000 |

**推荐方案**: 先用 100GbE，后续扩展 InfiniBand（总预算 ¥100,000）

---

### 3. 软件许可

| 软件 | 许可类型 | 费用 |
|------|---------|------|
| **昇腾 CANN** | 免费（社区版）| ¥0 |
| **寒武纪 CNToolkit** | 免费（开发者版）| ¥0 |
| **NVIDIA CUDA/cuDNN** | 免费 | ¥0 |
| **PyTorch/TensorFlow** | 开源免费 | ¥0 |
| **vLLM/LMDeploy** | Apache 2.0 免费 | ¥0 |

**总计**: **¥0**（全部使用开源/免费工具）

---

## 💡 成本优化建议

### 1. 云服务器替代方案

对于 P1 硬件（海光/昆仑），可考虑租用云服务器：

| 平台 | 实例类型 | 配置 | 价格 |
|------|---------|------|------|
| **华为云** | 昇腾 910 实例 | 1 卡 | ¥10/小时 ≈ ¥3,600/月 |
| **百度云** | 昆仑芯实例 | 1 卡 | ¥8/小时 ≈ ¥2,880/月 |
| **阿里云** | A100 实例 | 1 卡 | ¥15/小时 ≈ ¥5,400/月 |

**优势**: 
- ✅ 无需前期大额投入
- ✅ 按需使用，成本可控
- ✅ 3 个月开发期总成本约 ¥35,000

**劣势**:
- ❌ 长期使用成本更高
- ❌ 网络延迟（跨地域）
- ❌ 数据安全风险

---

### 2. 学术合作/借用

| 渠道 | 说明 | 可行性 |
|------|------|--------|
| **高校实验室** | 借用高校已有设备 | ⭐⭐⭐⭐⭐ |
| **厂商技术支持** | 华为/寒武纪提供测试设备 | ⭐⭐⭐⭐ |
| **国家超算中心** | 申请超算时长 | ⭐⭐⭐ |
| **联合研发** | 与硬件厂商合作研发 | ⭐⭐⭐⭐⭐ |

**推荐**: 优先联系华为/寒武纪，争取技术合作或设备支持

---

### 3. 分期采购策略

**一期（必买）**: ¥770,000
- 昇腾 910B × 1 台
- 寒武纪 MLU370 × 1 台
- NVIDIA A100 × 1 台

**二期（可选）**: ¥200,000 - ¥380,000
- 海光 DCU × 1 台（¥200,000）
- 昆仑芯 R300 × 1 台（¥180,000）

**时间安排**:
- 一期：项目启动后立即采购（支持 Week 1-8 开发）
- 二期：Week 7 评估后决定（支持 Week 9-12 扩展验证）

---

## 📋 采购申请模板

### 采购申请书

**项目名称**: sageLLM 国产算力推理引擎研发  
**申请部门**: [填写部门]  
**申请人**: [填写姓名]  
**申请日期**: 2026-01-02

#### 一、采购需求概述

本项目旨在开发面向国产算力（昇腾/寒武纪/海光/昆仑）优化的 LLM 推理引擎 sageLLM，需采购相应硬件设备用于：
1. 国产通信协议适配（HCCL/CNCL/RCCL/BKCL）
2. 国产 Kernel 开发（Ascend C/BANG/HIP）
3. 性能基线对比（vs NVIDIA vLLM/TensorRT-LLM）

#### 二、采购清单

**方案 A（最小可行配置）**:
- 昇腾 910B 训练服务器 × 1 台：¥250,000
- 寒武纪 MLU370 训练服务器 × 1 台：¥220,000
- NVIDIA A100 训练服务器 × 1 台：¥300,000
- **总计**: **¥770,000**

#### 三、技术必要性

1. **昇腾 910B**: P0 核心硬件，华为自研 HCCL 通信库验证
2. **寒武纪 MLU370**: P0 核心硬件，CNCL 通信库验证
3. **NVIDIA A100**: 性能基线，对比 vLLM/TensorRT-LLM

#### 四、预期产出

1. sageLLM 推理引擎（支持 4 种国产硬件）
2. 顶会论文 1-2 篇（MLSys/OSDI/ATC）
3. 开源项目（GitHub Star > 1000）
4. 国产算力生态贡献

#### 五、采购时间表

- Week 0-1: 预算审批
- Week 2: 签订合同
- Week 3-4: 设备到货验收

**申请人签字**: _________  
**部门负责人签字**: _________  
**日期**: _________

---

## ✅ 总结与建议

### 推荐方案：方案 C（预算优化）

**一期投入**: ¥770,000
- ✅ 昇腾 910B（P0 核心）
- ✅ 寒武纪 MLU370（P0 核心）
- ✅ NVIDIA A100（性能基线）

**二期投入**: ¥200,000（Week 7 评估后）
- ✅ 海光 DCU Z100（P1 扩展）

**昆仑芯**: 租用云服务器（¥2,880/月 × 3 月 = ¥8,640）

**总预算**: **¥978,640**

### 关键优势

1. ✅ **覆盖 P0 硬件**: 昇腾 + 寒武纪满足核心开发需求
2. ✅ **性能基线完整**: NVIDIA A100 提供对比数据
3. ✅ **分期投入**: 降低前期资金压力
4. ✅ **灵活扩展**: 二期可根据进展调整

### 风险提示

1. ⚠️ **供货周期**: 国产硬件供货可能延迟（提前 2 个月下单）
2. ⚠️ **价格波动**: 硬件价格可能变动（建议锁定报价）
3. ⚠️ **技术支持**: 确认厂商技术支持服务（培训/文档/问题响应）
4. ⚠️ **验收标准**: 制定明确的设备验收测试标准

---

## 📞 联系方式

**项目负责人**: [填写姓名]  
**邮箱**: [填写邮箱]  
**电话**: [填写电话]  

**采购咨询**: 请联系财务部 / 采购部

---

**文档版本**: v1.0  
**最后更新**: 2026-01-02  
**作者**: SAGE 项目组
