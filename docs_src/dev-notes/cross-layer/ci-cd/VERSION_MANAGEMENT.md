# SAGE ç‰ˆæœ¬ç®¡ç†ç­–ç•¥

**Date**: 2025-11-10  
**Author**: GitHub Copilot & ShuhaoZhangTony  
**Summary**: æ–°çš„ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ - ç¦ç”¨ main-dev è‡ªåŠ¨ version bump ä»¥å‡å°‘ feature åˆ†æ”¯ rebase å†²çª

## ğŸ“‹ æ¦‚è¿°

ä¸ºäº†å‡å°‘ feature åˆ†æ”¯ rebase æ—¶çš„ç‰ˆæœ¬å†²çªï¼Œæˆ‘ä»¬é‡‡ç”¨ä»¥ä¸‹ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ï¼š

## ğŸ¯ ç‰ˆæœ¬å·æ ¼å¼

`major.minor.micro.patch` (ä¾‹å¦‚: `0.1.9.2`)

## ğŸ”„ è‡ªåŠ¨ç‰ˆæœ¬ Bump è§„åˆ™

### âœ… å¯ç”¨è‡ªåŠ¨ bump

- **main åˆ†æ”¯**ï¼šæ¯æ¬¡ push æˆ– PR merge è‡ªåŠ¨ bump **patch** ç‰ˆæœ¬
- **å‘å¸ƒåˆ°**ï¼šPyPI (ç”Ÿäº§ç¯å¢ƒ)

### âŒ ç¦ç”¨è‡ªåŠ¨ bump

- **main-dev åˆ†æ”¯**ï¼šä¸å†è‡ªåŠ¨ bump ç‰ˆæœ¬
- **åŸå› **ï¼šé¿å…é¢‘ç¹ version bump å¯¼è‡´æ‰€æœ‰ feature åˆ†æ”¯ rebase æ—¶äº§ç”Ÿå†²çª

## ğŸ› ï¸ æ‰‹åŠ¨ç‰ˆæœ¬ç®¡ç†

### main-dev æµ‹è¯•å‘å¸ƒ

å¦‚éœ€åœ¨ main-dev åˆ†æ”¯æµ‹è¯• PyPI å‘å¸ƒï¼Œä½¿ç”¨æ‰‹åŠ¨è§¦å‘ï¼š

1. è¿›å…¥ GitHub Actions
1. é€‰æ‹© "Publish to PyPI" workflow
1. ç‚¹å‡» "Run workflow"
1. é…ç½®ï¼š
   - **repository**: `testpypi`
   - **version_bump**: `none` (ä¿æŒå½“å‰ç‰ˆæœ¬)

### ä¸»åŠ¨å‡çº§ç‰ˆæœ¬

éœ€è¦å‡çº§ç‰ˆæœ¬æ—¶ï¼Œå¯é€‰æ‹©ï¼š

- **patch**: `0.1.6.2` â†’ `0.1.6.3` (bug ä¿®å¤)
- **micro**: `0.1.6.2` â†’ `0.1.7.0` (å°åŠŸèƒ½)
- **minor**: `0.1.6.2` â†’ `0.2.0.0` (å¤§åŠŸèƒ½)
- **major**: `0.1.6.2` â†’ `1.0.0.0` (ç ´åæ€§æ›´æ”¹)

## ğŸ“ ç‰ˆæœ¬å†²çªå¤„ç†

### Feature åˆ†æ”¯ Rebase

ç°åœ¨ feature åˆ†æ”¯ rebase åˆ° main-dev æ—¶ï¼š

âœ… **ä¸ä¼šå†æœ‰ç‰ˆæœ¬æ–‡ä»¶å†²çª**ï¼ˆmain-dev ä¸å†è‡ªåŠ¨ bumpï¼‰

å¦‚ä»é‡åˆ°ç‰ˆæœ¬å†²çªï¼ˆç½•è§æƒ…å†µï¼‰ï¼Œä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ï¼š

```bash
# åœ¨ feature åˆ†æ”¯ä¸Šè¿è¡Œ
./tools/rebase-to-main-dev.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š

1. æ›´æ–° main-dev
1. æ‰§è¡Œ rebase
1. è‡ªåŠ¨è§£å†³æ‰€æœ‰ `_version.py` å†²çª
1. æç¤ºæ‰‹åŠ¨è§£å†³å…¶ä»–å†²çªï¼ˆå¦‚æœ‰ï¼‰

## ğŸ‰ ä¼˜åŠ¿

1. âœ… **å‡å°‘æ‘©æ“¦**ï¼šfeature åˆ†æ”¯å¼€å‘å’Œ rebase æ›´é¡ºç•…
1. âœ… **è¯­ä¹‰åŒ–ç‰ˆæœ¬**ï¼šmain åˆ†æ”¯çš„ç‰ˆæœ¬å·æ›´æœ‰æ„ä¹‰
1. âœ… **çµæ´»æ§åˆ¶**ï¼šéœ€è¦æ—¶å¯æ‰‹åŠ¨è§¦å‘ main-dev æµ‹è¯•å‘å¸ƒ
1. âœ… **é¿å…å†²çª**ï¼šæ¶ˆé™¤äº†æœ€å¸¸è§çš„ rebase å†²çªæº

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- main-dev çš„ç‰ˆæœ¬å·ä¼šä¸ main åˆ†æ”¯ä¿æŒä¸€è‡´ï¼Œç›´åˆ°ä¸‹æ¬¡ main åˆ†æ”¯ bump
- è¿™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸º main-dev æ˜¯å¼€å‘åˆ†æ”¯ï¼Œä¸éœ€è¦é¢‘ç¹å˜æ›´ç‰ˆæœ¬å·
- åªæœ‰åˆå¹¶åˆ° main æ—¶æ‰éœ€è¦æ­£å¼å‘å¸ƒæ–°ç‰ˆæœ¬
